<table *ngIf="creditos.length">
  <thead>
    <tr>
      <th>ID</th>
      <th>Tipo</th>
      <th>Montante</th>
      <th>Prazo</th>
      <th>Juro mensal</th>
      <th>Saldo devedor</th>
      <th>Meses atraso</th>
      <th>Status</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of creditos">
      <td>{{ c.id | slice:0:8 }}...</td>
      <td>{{ c.tipoCredito }}</td>
      <td>{{ c.montante | number:'1.2-2' }}</td>
      <td>{{ c.prazoMeses }}</td>
      <td>{{ c.taxaJurosMensal }} %</td>
      <td>{{ c.saldoDevedor | number:'1.2-2' }}</td>
      <td>{{ c.mesesEmAtraso }}</td>
      <td>{{ c.status }}</td>
      <td>
        <!-- enquanto está a carregar esta linha -->
        <span *ngIf="rowLoadingId === c.id">...</span>

        <!-- SOLICITADO -> pode aprovar ou rejeitar -->
        <button
          *ngIf="c.status === 'SOLICITADO'"
          (click)="aprovarCredito(c)"
          [disabled]="rowLoadingId === c.id">
          Aprovar
        </button>

        <button
          *ngIf="c.status === 'SOLICITADO'"
          (click)="rejeitarCredito(c)"
          [disabled]="rowLoadingId === c.id">
          Rejeitar
        </button>

        <!-- APROVADO -> pode liberar -->
        <button
          *ngIf="c.status === 'APROVADO'"
          (click)="liberarCredito(c)"
          [disabled]="rowLoadingId === c.id">
          Liberar
        </button>

        <!-- EM_CURSO -> pode actualizar saldo e liquidar (ou ir para pagamentos) -->
        <button
          *ngIf="c.status === 'EM_CURSO'"
          (click)="atualizarSaldo(c)"
          [disabled]="rowLoadingId === c.id">
          Actualizar saldo
        </button>

        <button
          *ngIf="c.status === 'EM_CURSO'"
          (click)="liquidarCredito(c)"
          [disabled]="rowLoadingId === c.id">
          Liquidar
        </button>

        <!-- exemplo: botão para ir para pagamentos
        <button
          *ngIf="c.status === 'EM_CURSO'"
          (click)="pagarCredito(c)">
          Pagamentos
        </button>
        -->
      </td>
    </tr>
  </tbody>
</table>
