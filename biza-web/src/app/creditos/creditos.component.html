<div class="creditos-container">

  <section class="card">
    <h2>Novo Crédito</h2>

    <div class="form-grid">

      <div class="form-group">
        <label>Cliente *</label>
        <select [(ngModel)]="selectedClienteId">
          <option [ngValue]="null">-- seleccione --</option>
          <option *ngFor="let c of clientes" [ngValue]="c.id">
            {{ c.nome }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>Montante *</label>
        <input type="number" [(ngModel)]="montante" />
      </div>

      <div class="form-group">
        <label>Taxa de Juros Anual (%) *</label>
        <input type="number" [(ngModel)]="taxaJurosAnual" />
      </div>

      <div class="form-group">
        <label>Prazo (meses) *</label>
        <input type="number" [(ngModel)]="prazoMeses" />
      </div>

    </div>

    <button (click)="criarCredito()">Criar Crédito</button>

    <p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>
  </section>

  <section class="card">
    <h2>Créditos do Cliente</h2>

    <button (click)="listarCreditos()">Carregar Créditos</button>

    <p *ngIf="loading">A carregar...</p>

    <ul>
      <li *ngFor="let cr of creditos">
        <strong>{{ cr.montante }}</strong>
        — {{ cr.status }}
        <span *ngIf="cr.saldoDevedor !== undefined">
          — Saldo devedor: {{ cr.saldoDevedor }}
        </span>
        <span *ngIf="cr.prazoMeses">
          — Prazo: {{ cr.prazoMeses }} meses
        </span>
      </li>
    </ul>
  </section>

</div>
